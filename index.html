<!DOCTYPE html>
<html>
<head>
<title>Coffee Calculator</title>
<style>
/* Container Box Styling */
#calculator-box {
  max-width: 400px;
  margin: 40px auto;
  padding: 30px;
  background-color: #f9f9f9;
  border-radius: 15px;
  box-shadow: 0px 6px 16px rgba(0, 0, 0, 0.1);
  transition: background-color 0.3s ease; /* Smooth transition */
}

/* Title Styling */
h2 {
  text-align: center;
  font-family: Arial, sans-serif;
  color: #333;
  margin-bottom: 30px;
}

/* Label Styling */
label {
  font-family: Arial, sans-serif;
  color: #555;
  font-size: 14px;
  display: block;
  margin-bottom: 8px;
}

/* Input Styling */
input[type="number"] {
  width: 100%;
  padding: 12px;
  border-radius: 8px;
  border: 1px solid #ccc;
  font-size: 14px;
  box-sizing: border-box;
  margin-top: 5px;
}

/* Button Styling */
button {
  width: 100%;
  padding: 14px;
  background-color: #083C5E; /* Updated to #083C5E */
  color: white;
  border: none;
  border-radius: 8px;
  font-family: Arial, sans-serif;
  font-size: 16px;
  cursor: pointer;
  margin-top: 20px;
  transition: background-color 0.3s ease;
}

button:hover {
  background-color: #062B45; /* Darker shade for hover */
}

/* Custom Brew Method Buttons */
.brew-method {
  margin-bottom: 15px;
  text-align: center;
}

/* Spacing for Brew Method Buttons */
.brew-button {
  display: inline-block;
  padding: 10px 20px;
  border-radius: 8px;
  border: 1px solid #083C5E; /* Updated border color */
  background-color: #083C5E; /* Updated to #083C5E */
  color: white; /* Changed text color to white for contrast */
  font-family: Arial, sans-serif;
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.3s ease, color 0.3s ease;
  margin: 0 10px; /* Add space between buttons */
}

.brew-button.selected {
  background-color: #083C5E; /* Keep the selected button in the same color */
  color: #fff;
}

/* Results Display */
.results {
  text-align: center;
  margin-top: 30px;
}

.results p {
  font-family: Arial, sans-serif;
  font-size: 16px;
  margin: 10px 0;
}

.results span {
  font-weight: bold;
  color: #083C5E; /* Keep the same theme color */
}
</style>
</head>
<body>

<div id="calculator-box">
  <h2>EY% Calculator حاسبة الاستخلاص</h2>

  <!-- Brew Method Label -->
  <label style="font-weight: bold; font-size: 16px;">Brew Method</label>

  <!-- Custom Brew Method Buttons -->
  <div class="brew-method">
    <div id="filter-button" class="brew-button selected" data-method="filter">Filter</div>
    <div id="immersion-button" class="brew-button" data-method="immersion">Immersion</div>
  </div>

  <!-- Inputs in the correct order -->
  <div style="margin-bottom: 15px;">
    <label for="coffee-weight">Dose (grams):</label>
    <input type="number" id="coffee-weight" placeholder="e.g., 22">
  </div>

  <div style="margin-bottom: 15px;">
    <label for="water-weight">Water Weight (grams):</label>
    <input type="number" id="water-weight" placeholder="e.g., 120">
  </div>

  <div style="margin-bottom: 15px;">
    <label for="beverage-mass">Beverage Mass (grams):</label>
    <input type="number" id="beverage-mass" placeholder="e.g., 100">
  </div>

  <div style="margin-bottom: 15px;">
    <label for="tds">TDS (%):</label>
    <input type="number" id="tds" placeholder="e.g., 1.2">
  </div>

  <button id="calculate-btn">Calculate</button>

  <!-- Results Section -->
  <div class="results">
    <p>Brew Ratio: <span id="brew-ratio-result">0.00</span></p>
    <p>Extraction Yield: <span id="extraction-yield-result">0.00%</span></p>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {

  let selectedMethod = "filter"; // Default method

  // Handle button toggling
  const filterButton = document.getElementById('filter-button');
  const immersionButton = document.getElementById('immersion-button');

  filterButton.addEventListener('click', function() {
    selectedMethod = "filter";
    filterButton.classList.add('selected');
    immersionButton.classList.remove('selected');
  });

  immersionButton.addEventListener('click', function() {
    selectedMethod = "immersion";
    immersionButton.classList.add('selected');
    filterButton.classList.remove('selected');
  });

  // Calculation logic
  document.getElementById('calculate-btn').addEventListener('click', function() {

    const coffeeWeight = parseFloat(document.getElementById('coffee-weight').value) || 0;
    const waterWeight = parseFloat(document.getElementById('water-weight').value) || 0;
    const tds = parseFloat(document.getElementById('tds').value) || 0;
    const beverageMass = parseFloat(document.getElementById('beverage-mass').value) || 0;
    let extractionYield = 0;
    let brewRatio = 0;

    if (coffeeWeight === 0) {
      alert("Dose (coffee weight) cannot be zero!");
      return;
    }

    // Calculate Brew Ratio for both methods
    brewRatio = waterWeight / coffeeWeight;

    // Apply correct formulas for extraction yield
    if (selectedMethod === "filter") {
      extractionYield = (beverageMass / coffeeWeight) * tds;
    } else if
